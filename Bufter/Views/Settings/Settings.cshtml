@using Bufter.Models
@model Settings
@{
	ViewData["Title"] = "Settings";
}

<div class="p-5">
	<form asp-controller="Settings" asp-action="Save" method="post">
		<div class="row mb-2 align-items-center">
			<label asp-for="SaveRoom" class="col-4 col-md-2 col-form-label text-end">Save Room</label>
			<div class="col-8 col-md-10">
				<input class="form-check-input" type="checkbox" asp-for="SaveRoom">
			</div>
		</div>
		<div class="row mb-2 align-items-center">
			<label asp-for="Room" class="col-4 col-md-2 col-form-label text-end">Room</label>
			<div class="col-8 col-md-8">
				<input type="text" class="form-control" asp-for="Room">
			</div>
		</div>
		<div class="row mb-2 align-items-center">
			<label asp-for="SavePerson" class="col-4 col-md-2 col-form-label text-end">Save Person</label>
			<div class="col-8 col-md-8">
				<input class="form-check-input" type="checkbox" asp-for="SavePerson">
			</div>
		</div>
		<div class="row mb-2 align-items-center">
			<label asp-for="Person" class="col-4 col-md-2 col-form-label text-end">Person</label>
			<div class="col-8 col-md-8">
				<input type="text" class="form-control" asp-for="Person">
			</div>
			@if (Model.Person != null && Model.Person != "")
			{
				<div class="col-12 col-md-2">
					<div class="row">
						<p class="col-auto my-auto"><b>Bill: @Model.Bill€</b></p>
						<a class="col-auto btn btn-primary btn mx-1" asp-controller="Settings" asp-action="AddMoney" asp-route-Person="@Model.Person" asp-route-Amount="0">Clear bill</a>
						<a class="col-auto btn btn-primary btn mx-1" data-bs-toggle="modal" data-bs-target="#addMoneyModal" data-bs-name="@Model.Person">Add money</a>
						</div>
				</div>
			}
		</div>
		<div class="row">
			<button type="submit" class="btn btn-primary mx-auto col-2">Save</button>
		</div>
	</form>
</div>


<div class="modal fade" id="addMoneyModal" tabindex="-1" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Add money</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div class="d-flex justify-content-center">
					<a class="btn btn-primary btn mx-1" asp-controller="Settings" asp-action="AddMoney" asp-route-Person="" asp-route-Amount="10">10</a>
					<a class="btn btn-primary btn mx-1" asp-controller="Settings" asp-action="AddMoney" asp-route-Person="" asp-route-Amount="5">5</a>
					<a class="btn btn-primary btn mx-1" asp-controller="Settings" asp-action="AddMoney" asp-route-Person="" asp-route-Amount="2">2</a>
					<a class="btn btn-primary btn mx-1" asp-controller="Settings" asp-action="AddMoney" asp-route-Person="" asp-route-Amount="1">1</a>
					<a class="btn btn-primary btn mx-1" asp-controller="Settings" asp-action="AddMoney" asp-route-Person="" asp-route-Amount="0.5">0.50</a>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>